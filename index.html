<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Newsletter Growth Audit - Get Your Free Analysis</title>
    <meta name="description" content="Get a comprehensive audit of your newsletter with AI-powered recommendations for growth, monetization, and optimization.">
    
    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://api.anthropic.com">
    <link rel="preconnect" href="https://track.customer.io">
    
    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- External Libraries -->
    <!-- Zod for validation -->
    <script src="https://unpkg.com/zod@3.25.56/lib/index.umd.js"></script>
    
    <!-- Customer.io Analytics -->
    <script type="text/javascript">
    (function() {
        if (navigator.doNotTrack != "1") {
            // Initialize Customer.io tracking
            (function(c,i,o){c[i]=c[i]||function(){(c[i].q=c[i].q||[]).push(arguments)};c[i].l=+new Date;
            var a=o.createElement('script');a.async=1;a.src='https://assets.customer.io/assets/track.js';
            var m=o.getElementsByTagName('script')[0];m.parentNode.insertBefore(a,m);
            })(window,'cioanalytics',document);
            
            // Set up the analytics object
            window.cioanalytics = window.cioanalytics || function() {
                (window.cioanalytics.q = window.cioanalytics.q || []).push(arguments);
            };
            window.cioanalytics.l = +new Date;
            
            // Initialize tracking with site ID (replace with your actual site ID)
            window.cioanalytics('config', {
                site_id: '3b509b62c9e5cd9d5f13' // You'll need to replace this with your actual site ID
            });
            
            // Add debug logging
            console.log('Customer.io analytics initialized');
        } else {
            // Set flag if tracking is disabled
            window.cioAnalyticsUnavailable = true;
        }
    })();
    </script>
</head>
<body>
    <!-- Main Application Container -->
    <div id="app">
        <!-- Header Section -->
        <div id="header-container"></div>
        <div id="headerComponent"></div>
        
        <!-- Progress Bar -->
        <div id="progress-container"></div>
        <div id="progressComponent"></div>
        
        <!-- Main Content Area -->
        <div class="main-container">
            <!-- Step Content Container -->
            <div id="step-container"></div>
            
            <!-- Form Container for Dynamic Content -->
            <div id="formContainer"></div>
            
            <!-- Audit Results Container -->
            <div id="audit-container" style="display: none;"></div>
            <div id="auditComponent" style="display: none;"></div>
        </div>
        
        <!-- Loading Overlay -->
        <div id="loading-overlay" style="display: none;">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p>Generating your personalized audit...</p>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/schemas.js"></script>
    <script src="js/customer-io-tracker.js"></script>
    <script src="js/component-loader.js"></script>
    <script src="js/progress-manager.js"></script>
    <script src="js/data-collector.js"></script>
    <script src="js/form-validator.js"></script>
    <script src="js/step-manager.js"></script>
    <script src="js/audit-generator.js"></script>
    
    <!-- Main Application Logic -->
    <script src="app.js"></script>
</body>
</html> 